PLAN CONCLUDE MessageReceived($message) {
	ID: "http://www.arbi.com//MessageReceived_UpdateFact"
	PRECONDITION :
		FACT TaskManager($tm);
		$message.getAction() == "UpdateFact";
	BODY:
		//PERFORM isro:startLog("CONCLUDE", "ReceivedMessage");
		
		$tm.updateFactToLTM($message.getMessage());
				
		//PERFORM isro:endLog("CONCLUDE", "ReceivedMessage");
	EFFECTS :
		RETRACT ReceivedMessage($message);
	UTILITY: 10000; 
}

PLAN CONCLUDE MessageReceived($message) {
	ID: "http://www.arbi.com//MessageReceived_AssertFact"
	PRECONDITION :
		FACT TaskManager($tm);
		$message.getAction() == "AssertFact";
	BODY:
		//PERFORM isro:startLog("CONCLUDE", "ReceivedMessage");
		
		$tm.assertFactToLTM($message.getMessage());
		
				
		//PERFORM isro:endLog("CONCLUDE", "ReceivedMessage");
	EFFECTS :
		RETRACT ReceivedMessage($message);
	UTILITY: 10000; 
}

PLAN CONCLUDE MessageReceived($message) {
	ID: "http://www.arbi.com//MessageReceived_Default"
	PRECONDITION :
		FACT TaskManager($tm);
	BODY:
		//PERFORM isro:startLog("CONCLUDE", "ReceivedMessage");
		
		$tm.assertFact($message.getMessage());
				
		//PERFORM isro:endLog("CONCLUDE", "ReceivedMessage");
	EFFECTS :
		RETRACT ReceivedMessage($message);
	UTILITY: 9999; 
}