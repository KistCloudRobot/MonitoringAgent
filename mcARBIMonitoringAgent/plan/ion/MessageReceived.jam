PLAN CONCLUDE MessageReceived($message) {
	ID: "http://www.arbi.com//MessageReceived_UpdateFact"
	PRECONDITION :
		FACT TaskManager($tm);
		$message.getAction() == "UpdateFact";
		FACT MessageHandler($handler);
	BODY:
		//PERFORM isro:startLog("CONCLUDE", "ReceivedMessage");
		
		$handler.updateGL($message.getMessage());
				
		//PERFORM isro:endLog("CONCLUDE", "ReceivedMessage");
	EFFECTS :
		RETRACT ReceivedMessage($message);
	UTILITY: 10000; 
}

PLAN CONCLUDE MessageReceived($message) {
	ID: "http://www.arbi.com//MessageReceived_AssertFact"
	PRECONDITION :
		FACT TaskManager($tm);
		$message.getAction() == "AssertFact";
		FACT MessageHandler($handler);
	BODY:
		//PERFORM isro:startLog("CONCLUDE", "ReceivedMessage");
		
		$handler.assertGL($message.getMessage());
		
		//PERFORM isro:endLog("CONCLUDE", "ReceivedMessage");
	EFFECTS :
		RETRACT ReceivedMessage($message);
	UTILITY: 10000; 
}

PLAN CONCLUDE MessageReceived($message) {
	ID: "http://www.arbi.com//MessageReceived_Default"
	PRECONDITION :
		FACT TaskManager($tm);
		FACT MessageHandler($handler);
	BODY:
		//PERFORM isro:startLog("CONCLUDE", "ReceivedMessage");
		
		$handler.assertGL($message.getMessage());
		
		//PERFORM isro:endLog("CONCLUDE", "ReceivedMessage");
	EFFECTS :
		RETRACT ReceivedMessage($message);
	UTILITY: 9999; 
}